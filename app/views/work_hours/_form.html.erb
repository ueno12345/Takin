<%# 非同期で編集モード時に表示変更するコード %>
<%= turbo_frame_tag work_hour do %>
  <%= bootstrap_form_with(model: [@course, @work_hour]) do |form| %>
      <% if work_hour.errors.any? %>
        <div style="color: red">
          <h2><%= pluralize(work_hour.errors.count, "error") %> prohibited this work_hour from being saved:</h2>

          <ul>
            <% work_hour.errors.each do |error| %>
              <li><%= error.full_message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

    <div class="row py-2 border-top">

      <div class="col">
        <%#= form.label :開始時刻, style: "display: block" %>
        <%= form.datetime_field :dtstart %>
      </div>

      <div class="col">
        <%#= form.label :終了時刻, style: "display: block" %>
        <%= form.datetime_field :dtend %>
      </div>

      <div class="col">
        <%#= form.label :actual_working_minutes, style: "display: block" %>
        <%= form.number_field :actual_working_minutes %>
      </div>

      <div class="col">
        <%#= form.label :assignment_id, style: "display: block" %>
        <%#= form.select :assignment_id, @assignments.map { |a| ["#{a.teaching_assistant.name} - #{a.teaching_assistant.number}", a.id] }, prompt: 'Select Assignment' %>
        <%#= form.select :assignment_id, @assignments.reject { |a| a.teaching_assistant_id == 1 }.map { |a| ["#{a.teaching_assistant.name} - #{a.teaching_assistant.number}", a.id] }, prompt: 'Select Assignment' %>
        <%= form.select :assignment_id, @assignments.reject { |a| a.teaching_assistant_id == 1 }.map { |a| ["#{a.teaching_assistant.name} - #{a.teaching_assistant.number}", a.id] }, include_blank: '未登録' %>

      </div>

      <div class="col">
        <%= form.submit %>
        <%= link_to "戻る", course_assignments_path, class:"btn btn-warning" %>
        <%#= link_to "Back", @work_hour, class: "btn btn-sm btn-outline-secondary" %>
      </div>

    </div>
  <% end %>
<% end %>
